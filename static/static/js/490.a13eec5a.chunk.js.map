{"version":3,"file":"static/js/490.a13eec5a.chunk.js","mappings":"sPAyIA,UA7Hc,WACV,IAAMA,GAAeC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,SAASH,YAA1B,IAE3BI,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,GAAgBC,EAAAA,EAAAA,UAEtB,GAAiDC,EAAAA,EAAAA,UAAS,CACtDC,cAAe,GACfC,SAAU,KAFd,eAAOC,EAAP,KAAyBC,EAAzB,KAKA,GAA+CJ,EAAAA,EAAAA,UAAS,IAAxD,eAAOK,EAAP,KAAwBC,EAAxB,KAEMC,EAAe,SAACC,GAClBJ,GAAqB,kBACdD,GADa,cAEfK,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,QAEjC,EA4BD,OACI,2BACI,iBAAKC,UAAU,iBAAf,WACI,gBAAKA,UAAU,gCACf,gBAAKA,UAAU,aAAf,UACI,iBAAKA,UAAU,eAAf,WACI,gBAAKA,UAAU,YAAf,UACI,gBAAKC,IAAKC,EAAMC,IAAI,QAExB,eAAIH,UAAU,aAAd,oDAGA,eAAGA,UAAU,gBAAb,mCAC2B,KACvB,SAAC,KAAD,CAAMI,GAAG,YAAT,yBAEJ,kBAAMJ,UAAU,YAAYK,SA1C3B,SAACT,GAClBA,EAAEU,iBAEFpB,EAAcqB,QAAQC,UAAtB,yDAEAC,IAAAA,KAAO,CACHC,KAAM,OACNC,IAAI,GAAD,OAAKjC,EAAL,eACHkC,KAAM,CACFC,SAAUtB,EAAiBF,cAC3BC,SAAUC,EAAiBD,UAE/BwB,QAAS,SAAUF,GACf,IAAQG,EAA4BH,EAA5BG,UAAWC,EAAiBJ,EAAjBI,aACnBlC,EAASmC,EAAAA,GAAAA,MAAmB,CAAED,aAAAA,EAAcD,UAAAA,KAC5C/B,EAAS,aACZ,EACDkC,MAAO,YAAuC,IAAbC,EAAY,EAA1BC,aACf1B,EAAoByB,EAASE,SAC7BnC,EAAcqB,QAAQC,UAAY,OACrC,IAGLZ,EAAE0B,iBACL,EAkBmB,WACI,4BACI,kBAAOC,QAAQ,QAAQvB,UAAU,aAAjC,4BAGA,kBACIU,KAAK,QACLZ,KAAK,gBACL0B,YAAY,sBACZC,aAAa,MACbzB,UAAU,aACV0B,UAAQ,EACR3B,MAAOR,EAAiBF,cACxBsC,SAAUhC,QAGlB,4BACI,kBACI4B,QAAQ,WACRvB,UAAU,aAFd,uBAMA,kBACIU,KAAK,WACLZ,KAAK,WACL0B,YAAY,iBACZC,aAAa,MACbzB,UAAU,aACV0B,UAAQ,EACR3B,MAAOR,EAAiBD,SACxBqC,SAAUhC,QAGlB,0BACI,mBACIe,KAAK,SACLV,UAAU,WACV4B,IAAK1C,EAHT,qBAQHO,IACG,gBAAKO,UAAU,uBAAf,SACKP,QAIb,eAAGO,UAAU,cAAb,0EAEgB,+CAFhB,QAGI,4DAO3B,C","sources":["pages/Login.js"],"sourcesContent":["import logo from \"../assets/img/logo.png\";\r\n\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport { useState, useRef } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport $ from \"jquery\";\r\n\r\nimport { user_actions } from \"../store\";\r\n\r\nconst Login = () => {\r\n    const api_base_url = useSelector((state) => state.app_data.api_base_url);\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    const login_btn_ref = useRef();\r\n\r\n    const [user_credentials, set_user_credentials] = useState({\r\n        email_address: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const [server_response, set_server_response] = useState(\"\");\r\n\r\n    const handleChange = (e) => {\r\n        set_user_credentials({\r\n            ...user_credentials,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        login_btn_ref.current.innerHTML = `<span class=\"fa fa-spinner fa-spin\"></span> Logging in`;\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: `${api_base_url}/auth/login`,\r\n            data: {\r\n                username: user_credentials.email_address,\r\n                password: user_credentials.password,\r\n            },\r\n            success: function (data) {\r\n                const { user_info, access_token } = data;\r\n                dispatch(user_actions.login({ access_token, user_info }));\r\n                navigate(\"/dashboard\");\r\n            },\r\n            error: function ({ responseJSON: response }) {\r\n                set_server_response(response.message);\r\n                login_btn_ref.current.innerHTML = \"Login\";\r\n            },\r\n        });\r\n\r\n        e.stopPropagation();\r\n    };\r\n\r\n    return (\r\n        <main>\r\n            <div className=\"auth-container\">\r\n                <div className=\"auth-left auth-left--login\"></div>\r\n                <div className=\"auth-right\">\r\n                    <div className=\"auth-content\">\r\n                        <div className=\"auth-logo\">\r\n                            <img src={logo} alt=\"\"/>\r\n                        </div>\r\n                        <h3 className=\"auth-title\">\r\n                            Welcome Back. Comparely is waiting...\r\n                        </h3>\r\n                        <p className=\"auth-subtitle\">\r\n                            Don't have an account?{\" \"}\r\n                            <Link to=\"/register\">Sign up</Link>\r\n                        </p>\r\n                        <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n                            <div>\r\n                                <label htmlFor=\"email\" className=\"auth-label\">\r\n                                    Email Address\r\n                                </label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    name=\"email_address\"\r\n                                    placeholder=\"Enter email address\"\r\n                                    autoComplete=\"off\"\r\n                                    className=\"auth-input\"\r\n                                    required\r\n                                    value={user_credentials.email_address}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label\r\n                                    htmlFor=\"password\"\r\n                                    className=\"auth-label\"\r\n                                >\r\n                                    Password\r\n                                </label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    name=\"password\"\r\n                                    placeholder=\"Enter password\"\r\n                                    autoComplete=\"off\"\r\n                                    className=\"auth-input\"\r\n                                    required\r\n                                    value={user_credentials.password}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"auth-btn\"\r\n                                    ref={login_btn_ref}\r\n                                >\r\n                                    Login\r\n                                </button>\r\n                            </div>\r\n                            {server_response && (\r\n                                <div className=\"auth-server-response\">\r\n                                    {server_response}\r\n                                </div>\r\n                            )}\r\n                        </form>\r\n                        <p className=\"auth-tandcs\">\r\n                            By signing up you are automatically agreeing to\r\n                            Comparely's <strong> Terms of Use </strong> and\r\n                            <strong> Privacy policy</strong>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["api_base_url","useSelector","state","app_data","dispatch","useDispatch","navigate","useNavigate","login_btn_ref","useRef","useState","email_address","password","user_credentials","set_user_credentials","server_response","set_server_response","handleChange","e","target","name","value","className","src","logo","alt","to","onSubmit","preventDefault","current","innerHTML","$","type","url","data","username","success","user_info","access_token","user_actions","error","response","responseJSON","message","stopPropagation","htmlFor","placeholder","autoComplete","required","onChange","ref"],"sourceRoot":""}
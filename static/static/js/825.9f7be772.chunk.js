"use strict";(self.webpackChunkfrontend_react=self.webpackChunkfrontend_react||[]).push([[825],{5042:function(e,n,a){a(2791);n.Z=a.p+"static/media/excel-icon.dd0cbda752a3e98e27f7cae01a305421.svg"},4825:function(e,n,a){a.r(n);var i=a(8152),t=a(9434),s=a(2791),c=a(8890),o=a.n(c),l=a(6871),r=a(7651),d=a(3700),u=a(393),h=a(5779),p=a(5042),f=a(184);n.default=function(){var e=(0,l.UO)().files,n=(0,t.I0)(),a=(0,l.s0)(),c=(0,t.v9)((function(e){return e.app_data.api_base_url})),m=(0,t.v9)((function(e){return e.user.access_token})),x=(0,t.v9)((function(e){return e.app_data.root_url})),j=(0,s.useState)(!0),g=(0,i.Z)(j,2),v=g[0],N=g[1],b=(0,s.useState)(""),y=(0,i.Z)(b,2),_=y[0],w=y[1],k=(0,s.useState)(""),C=(0,i.Z)(k,2),S=C[0],D=C[1],T=(0,s.useState)(!1),R=(0,i.Z)(T,2),P=R[0],q=R[1],Z=(0,s.useState)(""),J=(0,i.Z)(Z,2),H=J[0],O=J[1],F=(0,s.useState)([]),A=(0,i.Z)(F,2),E=A[0],z=A[1],B=(0,s.useState)("new_file"),V=(0,i.Z)(B,2),M=V[0],L=V[1],U=(0,s.useState)(""),G=(0,i.Z)(U,2),I=G[0],W=G[1],K=(0,s.useRef)(),Q=(0,s.useRef)(),X=(0,s.useRef)(),Y=(0,s.useRef)(),$=(0,s.useRef)(),ee=(0,s.useRef)(),ne=(0,s.useRef)(),ae=(0,s.useState)(""),ie=(0,i.Z)(ae,2),te=ie[0],se=ie[1],ce=(0,s.useState)(""),oe=(0,i.Z)(ce,2),le=oe[0],re=oe[1],de=(0,s.useState)(""),ue=(0,i.Z)(de,2),he=ue[0],pe=ue[1],fe=function(e){if(1===e){var n="".concat(x,"/new_operation/").concat(S.id);window.location=n}else if(2===e){var a="".concat(x,"/new_operation/").concat(_.id);window.location=a}};return(0,s.useEffect)((function(){var a=e.split("."),t=(0,i.Z)(a,2),s=t[0],l=t[1];s&&o().ajax({type:"GET",url:"".concat(c,"/files/").concat(s),headers:{Authorization:"Bearer ".concat(m)},async:!1,success:function(e){w(e.file)},statusCode:{401:function(){n(r.JV.logout())},404:function(){}}}),l?o().ajax({type:"GET",url:"".concat(c,"/files/").concat(l),headers:{Authorization:"Bearer ".concat(m)},async:!1,success:function(e){D(e.file)},statusCode:{401:function(){n(r.JV.logout())},404:function(){}}}):D(""),N(!1)}),[m,c,n,e]),(0,s.useEffect)((function(){o().ajax({type:"GET",url:"".concat(c,"/files/?division=8&search=").concat(H),headers:{Authorization:"Bearer ".concat(m)},success:function(e){z(e.files)},statusCode:{401:function(){n(r.JV.logout())}}})}),[m,c,H,n]),v?(0,f.jsxs)("div",{className:"preloader",children:[(0,f.jsx)("span",{className:"fas fa-spinner fa-spin"})," Fetching file contents"]}):_||S?(0,f.jsxs)(f.Fragment,{children:[P&&(0,f.jsxs)("div",{className:"modal modal-open modal--files-select",children:[(0,f.jsxs)("div",{className:"modal-header",children:["My files",(0,f.jsx)("span",{onClick:function(){return q(!1)},children:"\xd7"})]}),(0,f.jsxs)("div",{className:"modal-body",style:{textAlign:"left"},children:[(0,f.jsx)("h3",{className:"files-select-title",children:"Select a file"}),(0,f.jsx)("div",{className:"files-select",children:E.map((function(n){return(0,f.jsxs)("div",{className:"file-select",onClick:function(){return function(n){var a=e.split("."),t=(0,i.Z)(a,2),s=t[0],c=t[1];if("change_file1"===M){var o="".concat(x,"/new_operation/").concat(n);o+=c?".".concat(c):"",window.location=o}else if("change_file2"===M||"new_file"===M){var l="".concat(x,"/new_operation/").concat(s,".").concat(n);window.location=l}q(!1)}(n.id)},children:[(0,f.jsx)("img",{src:p.Z,alt:"",className:"file-select-img"}),(0,f.jsxs)("p",{title:n.file_name,children:[n.file_name.substr(0,12),n.file_name.length>12&&"..."]})]},n.id)}))})]}),(0,f.jsx)("div",{className:"modal-footer",style:{textAlign:"left"},children:(0,f.jsx)("div",{className:"files-search-footer",children:(0,f.jsx)("input",{type:"text",placeholder:"Search your files",value:H,onChange:function(e){return O(e.target.value)}})})})]}),(0,f.jsxs)("main",{className:"dashboard-container",children:[(0,f.jsx)(d.Z,{}),(0,f.jsxs)("div",{className:"dashboard-content",children:[(0,f.jsx)(u.Z,{}),(0,f.jsxs)("section",{className:"dashboard-main",children:[(0,f.jsxs)("div",{className:"dashboard-breadcrumb",children:[(0,f.jsxs)("div",{className:"dashboard-breadcrumb-left",children:[(0,f.jsx)("h3",{className:"dashboard-breadcrumb-title",children:"New operation"}),(0,f.jsx)("p",{className:"dashboard-breadcrumb-text",children:"Perform an operation on uploaded file from the provided operations below"})]}),(0,f.jsx)("div",{className:"dashboard-breadcrumb-right"})]}),(0,f.jsxs)("div",{className:"files-preview",children:[(0,f.jsxs)("div",{className:"file",children:[(0,f.jsxs)("div",{className:"file-header",children:[(0,f.jsx)("h3",{className:"file-name",children:_.file_name}),(0,f.jsx)("button",{className:"change-file-btn",onClick:function(){L("change_file1"),q(!0)},children:"Change"})]}),(0,f.jsxs)("div",{className:"file-preview-box-container",children:[S?(0,f.jsx)("button",{className:"file-add-remove file-add-remove--variant",onClick:function(){return fe(1)},children:(0,f.jsx)("ion-icon",{name:"remove-outline",class:"file-add-remove-icon"})}):(0,f.jsx)("button",{className:"file-add-remove",onClick:function(){L("new_file"),q(!0)},children:(0,f.jsx)("ion-icon",{name:"add-outline",class:"file-add-remove-icon"})}),(0,f.jsx)("div",{className:"file-preview-box",children:(0,f.jsxs)("table",{className:"file-table",children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:_.file_content[0].map((function(e,n){return(0,f.jsx)("th",{style:{backgroundColor:"#".concat(e.background)},children:e.value},n)}))})}),(0,f.jsx)("tbody",{children:_.file_content.slice(1).map((function(e,n){return(0,f.jsx)("tr",{children:e.map((function(e,n){return(0,f.jsx)("td",{style:{backgroundColor:"#".concat(e.background)},children:e.value},n)}))},n)}))})]})})]})]}),S&&(0,f.jsxs)("div",{className:"file",children:[(0,f.jsxs)("div",{className:"file-header",children:[(0,f.jsx)("h3",{className:"file-name",children:S.file_name}),(0,f.jsx)("button",{className:"change-file-btn",onClick:function(){L("change_file2"),q(!0)},children:"Change"})]}),(0,f.jsxs)("div",{className:"file-preview-box-container",children:[(0,f.jsx)("button",{className:"file-add-remove file-add-remove--variant",onClick:function(){return fe(2)},children:(0,f.jsx)("ion-icon",{name:"remove-outline",class:"file-add-remove-icon"})}),(0,f.jsx)("div",{className:"file-preview-box",children:(0,f.jsxs)("table",{className:"file-table",children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:S.file_content[0].map((function(e,n){return(0,f.jsx)("th",{style:{backgroundColor:"#".concat(e.background)},children:e.value},n)}))})}),(0,f.jsx)("tbody",{children:S.file_content.slice(1).map((function(e,n){return(0,f.jsx)("tr",{children:e.map((function(e,n){return(0,f.jsx)("td",{style:{backgroundColor:"#".concat(e.background)},children:e.value},n)}))},n)}))})]})})]})]})]}),S?(0,f.jsx)("div",{className:"files-actions",children:(0,f.jsxs)("div",{className:"file-action",onClick:function(){return W("diff_checker")},children:[(0,f.jsx)("p",{className:"file-action-icon-text",children:(0,f.jsx)("ion-icon",{name:"document-outline",class:"file-action-icon"})}),(0,f.jsx)("p",{children:"Diff Checker"})]})}):(0,f.jsxs)("div",{className:"files-actions",children:[(0,f.jsxs)("div",{className:"file-action",onClick:function(){return W("search_and_highlight")},children:[(0,f.jsx)("p",{className:"file-action-icon-text",children:(0,f.jsx)("ion-icon",{name:"document-outline",class:"file-action-icon"})}),(0,f.jsx)("p",{children:"Search and Highlight"})]}),(0,f.jsxs)("div",{className:"file-action",onClick:function(){return W("search_and_replace")},children:[(0,f.jsx)("p",{className:"file-action-icon-text",children:(0,f.jsx)("ion-icon",{name:"document-outline",class:"file-action-icon"})}),(0,f.jsx)("p",{children:"Search and Replace"})]}),(0,f.jsxs)("div",{className:"file-action",onClick:function(){return W("highlight_duplicates")},children:[(0,f.jsx)("p",{className:"file-action-icon-text",children:(0,f.jsx)("ion-icon",{name:"document-outline",class:"file-action-icon"})}),(0,f.jsx)("p",{children:"Highlight Duplicates"})]}),(0,f.jsxs)("div",{className:"file-action",onClick:function(){return W("remove_duplicates")},children:[(0,f.jsx)("p",{className:"file-action-icon-text",children:(0,f.jsx)("ion-icon",{name:"document-outline",class:"file-action-icon"})}),(0,f.jsx)("p",{children:"Remove Duplicates"})]}),(0,f.jsxs)("div",{className:"file-action",onClick:function(){return W("highlight_duplicates2")},children:[(0,f.jsx)("p",{className:"file-action-icon-text",children:(0,f.jsx)("ion-icon",{name:"document-outline",class:"file-action-icon"})}),(0,f.jsxs)("p",{children:["Highlight Duplicates ",(0,f.jsx)("br",{}),"and Return 2 Files"]})]}),(0,f.jsxs)("div",{className:"file-action",onClick:function(){return W("remove_duplicates2")},children:[(0,f.jsx)("p",{className:"file-action-icon-text",children:(0,f.jsx)("ion-icon",{name:"document-outline",class:"file-action-icon"})}),(0,f.jsxs)("p",{children:["Remove Duplicates ",(0,f.jsx)("br",{})," and Return 2 Files"]})]})]}),"diff_checker"===I&&(0,f.jsxs)("div",{className:"operation",children:[(0,f.jsx)("h3",{className:"operation-title",children:"Diff Checker"}),(0,f.jsx)("p",{className:"operation-text",children:"For the diff checker operation our system is going to look through the two uploaded excel file and check every cell in both excel files any cell that do not match are highlighted."}),(0,f.jsxs)("p",{className:"operation-text",children:[(0,f.jsx)("strong",{children:"Note:"})," we would only be considering the first sheet"]}),(0,f.jsx)("form",{onSubmit:function(e){e.preventDefault(),K.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Processing...',o().ajax({type:"POST",url:"".concat(c,"/operations/diff_checker/"),data:JSON.stringify({file1:_.id,file2:S.id}),contentType:"application/json",processData:!1,headers:{Authorization:"Bearer ".concat(m)},success:function(e){a("/diff_checker/".concat(e.data.id))},statusCode:{401:function(){n(r.JV.logout())},404:function(){window.location.reload()}}}),e.stopPropagation()},children:(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"submit",className:"operation-action",ref:K,children:"Check Difference"})})})]}),"search_and_highlight"===I&&(0,f.jsxs)("div",{className:"operation",children:[(0,f.jsx)("h3",{className:"operation-title",children:"Search and Highlight"}),(0,f.jsx)("p",{className:"operation-text",children:"For the search and highlight operation our system is going to look through the uploaded excel file and check every cell any cell that matches the searched keyword would be highlighted."}),(0,f.jsxs)("p",{className:"operation-text",children:[(0,f.jsx)("strong",{children:"Note:"})," we would only be considering the first sheet"]}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Q.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Processing...',o().ajax({type:"POST",url:"".concat(c,"/operations/search_highlight/"),data:JSON.stringify({file:_.id,search_keyword:le}),contentType:"application/json",processData:!1,headers:{Authorization:"Bearer ".concat(m)},success:function(e){a("/search_highlight/".concat(e.data.id))},statusCode:{401:function(){n(r.JV.logout())},404:function(){window.location.reload()}}}),e.stopPropagation()},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Search keyword"}),(0,f.jsx)("input",{type:"text",name:"search_keyword",placeholder:"Enter value to search for",className:"form-input",value:le,onChange:function(e){return re(e.target.value)}})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"submit",className:"operation-action",ref:Q,children:"Search and Highlight"})})]})]}),"search_and_replace"===I&&(0,f.jsxs)("div",{className:"operation",children:[(0,f.jsx)("h3",{className:"operation-title",children:"Search and Replace"}),(0,f.jsx)("p",{className:"operation-text",children:"For the search and relace operation our system is going to look through the uploaded excel file and check every cell any cell that matches the searched keyword would be replaced with the given replace value."}),(0,f.jsxs)("p",{className:"operation-text",children:[(0,f.jsx)("strong",{children:"Note:"})," we would only be considering the first sheet"]}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),X.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Processing...',o().ajax({type:"POST",url:"".concat(c,"/operations/search_replace/"),data:JSON.stringify({file:_.id,search_keyword:le,replace_with:he}),contentType:"application/json",processData:!1,headers:{Authorization:"Bearer ".concat(m)},success:function(e){a("/search_replace/".concat(e.data.id))},statusCode:{401:function(){n(r.JV.logout())},404:function(){window.location.reload()}}}),e.stopPropagation()},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Search keyword"}),(0,f.jsx)("input",{type:"text",name:"search_keyword",placeholder:"Enter value to search for",className:"form-input",value:le,onChange:function(e){return re(e.target.value)}})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Replace With"}),(0,f.jsx)("input",{type:"text",name:"replace_with",placeholder:"Enter value to replace with",className:"form-input",value:he,onChange:function(e){return pe(e.target.value)}})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"submit",className:"operation-action",ref:X,children:"Search and Replace"})})]})]}),"highlight_duplicates"===I&&(0,f.jsxs)("div",{className:"operation",children:[(0,f.jsx)("h3",{className:"operation-title",children:"Highlight Duplicates"}),(0,f.jsx)("p",{className:"operation-text",children:"For the highlight duplicates operation our system is going to look through the uploaded excel file and check every row that contains a duplicate value for the specified unique columns and highlight them."}),(0,f.jsxs)("p",{className:"operation-text",children:[(0,f.jsx)("strong",{children:"Note:"})," we would only be considering the first sheet"]}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),$.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Processing...',o().ajax({type:"POST",url:"".concat(c,"/operations/highlight_duplicates/"),data:JSON.stringify({file:_.id,unique_columns:te}),contentType:"application/json",processData:!1,headers:{Authorization:"Bearer ".concat(m)},success:function(e){a("/highlight_duplicates/".concat(e.data.id))},statusCode:{401:function(){n(r.JV.logout())},404:function(){window.location.reload()}}}),e.stopPropagation()},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Unique Columns"}),(0,f.jsx)("input",{type:"text",name:"uniqu_columns",placeholder:"Enter unique columns separated by comma",className:"form-input",value:te,onChange:function(e){return se(e.target.value)}})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"submit",className:"operation-action",ref:$,children:"Highlight Duplicates"})})]})]}),"remove_duplicates"===I&&(0,f.jsxs)("div",{className:"operation",children:[(0,f.jsx)("h3",{className:"operation-title",children:"Remove Duplicates"}),(0,f.jsx)("p",{className:"operation-text",children:"For the remove duplicates operation our system is going to look through the uploaded excel file and check every row that contains a duplicate value for the specified unique columns and remove them."}),(0,f.jsxs)("p",{className:"operation-text",children:[(0,f.jsx)("strong",{children:"Note:"})," we would only be considering the first sheet"]}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),ne.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Processing...',o().ajax({type:"POST",url:"".concat(c,"/operations/remove_duplicates/"),data:JSON.stringify({file:_.id,unique_columns:te}),contentType:"application/json",processData:!1,headers:{Authorization:"Bearer ".concat(m)},success:function(e){a("/remove_duplicates/".concat(e.data.id))},statusCode:{401:function(){n(r.JV.logout())},404:function(){window.location.reload()}}}),e.stopPropagation()},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Unique Columns"}),(0,f.jsx)("input",{type:"text",name:"uniqu_columns",placeholder:"Enter unique columns separated by comma",className:"form-input",value:te,onChange:function(e){return se(e.target.value)}})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"submit",className:"operation-action",ref:ne,children:"Remove Duplicates"})})]})]}),"highlight_duplicates2"===I&&(0,f.jsxs)("div",{className:"operation",children:[(0,f.jsx)("h3",{className:"operation-title",children:"Highlight Duplicates and Return 2 files"}),(0,f.jsx)("p",{className:"operation-text",children:"For the highlight duplicates operation our system is going to look through the uploaded excel file and check every row that contains a duplicate value for the specified unique columns and highlight them and also generate an analysis of duplicated data."}),(0,f.jsxs)("p",{className:"operation-text",children:[(0,f.jsx)("strong",{children:"Note:"})," we would only be considering the first sheet"]}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Y.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Processing...',o().ajax({type:"POST",url:"".concat(c,"/operations/highlight_duplicates2/"),data:JSON.stringify({file:_.id,unique_columns:te}),contentType:"application/json",processData:!1,headers:{Authorization:"Bearer ".concat(m)},success:function(e){a("/highlight_duplicates2/".concat(e.data.id))},statusCode:{401:function(){n(r.JV.logout())},404:function(){window.location.reload()}}}),e.stopPropagation()},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Unique Columns"}),(0,f.jsx)("input",{type:"text",name:"unique_columns",placeholder:"Enter unique columns separated by comma",className:"form-input",value:te,onChange:function(e){return se(e.target.value)}})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"submit",className:"operation-action",ref:Y,children:"Highlight Duplicates and Return 2 Files"})})]})]}),"remove_duplicates2"===I&&(0,f.jsxs)("div",{className:"operation",children:[(0,f.jsx)("h3",{className:"operation-title",children:"Remove Duplicates and Return 2 Files"}),(0,f.jsx)("p",{className:"operation-text",children:"For the remove duplicates operation our system is going to look through the uploaded excel file and check every row that contains a duplicate value for the specified unique columns and remove them and also return an excel sheet containing the removed rows."}),(0,f.jsxs)("p",{className:"operation-text",children:[(0,f.jsx)("strong",{children:"Note:"})," we would only be considering the first sheet"]}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),ee.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Processing...',o().ajax({type:"POST",url:"".concat(c,"/operations/remove_duplicates2/"),data:JSON.stringify({file:_.id,unique_columns:te}),contentType:"application/json",processData:!1,headers:{Authorization:"Bearer ".concat(m)},success:function(e){a("/remove_duplicates2/".concat(e.data.id))},statusCode:{401:function(){n(r.JV.logout())},404:function(){window.location.reload()}}}),e.stopPropagation()},children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Unique Columns"}),(0,f.jsx)("input",{type:"text",name:"uniqu_columns",placeholder:"Enter unique columns separated by comma",className:"form-input",value:te,onChange:function(e){return se(e.target.value)}})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"submit",className:"operation-action",ref:ee,children:"Remove Duplicates and Return 2 Files"})})]})]})]}),(0,f.jsx)(h.Z,{})]})]})]}):(0,f.jsx)("div",{className:"preloader",children:"Invalid operation"})}}}]);
//# sourceMappingURL=825.9f7be772.chunk.js.map
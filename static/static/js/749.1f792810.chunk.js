"use strict";(self.webpackChunkfrontend_react=self.webpackChunkfrontend_react||[]).push([[749],{5749:function(e,a,s){s.r(a);var n=s(8152),l=s(2791),o=s(9434),c=s(6871),i=s(8890),d=s.n(i),r=s(7651),t=s(3700),u=s(393),m=s(5779),h=s(184);a.default=function(){var e=(0,o.I0)(),a=(0,c.s0)(),s=(0,o.v9)((function(e){return e.app_data.api_base_url})),i=(0,o.v9)((function(e){return e.user.access_token})),f=(0,l.useRef)(),p=(0,l.useRef)(),x=(0,l.useState)(""),j=(0,n.Z)(x,2),v=j[0],b=j[1],N=(0,l.useState)(""),g=(0,n.Z)(N,2),_=g[0],k=g[1],w=(0,l.useState)(!1),y=(0,n.Z)(w,2),C=y[0],Z=y[1],F=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=(0,n.Z)(f.current.files,1),c=o[0],t=new FormData;t.append("file",c),d().ajax({type:"POST",data:t,url:"".concat(s,"/files/?replace=").concat(l),contentType:!1,processData:!1,headers:{Authorization:"Bearer ".concat(i)},success:function(e){a("/new_operation/".concat(e.file.id))},statusCode:{401:function(){e(r.JV.logout())},406:function(e){var a=e.responseJSON;"Unaccepted file format"===a.message?(b(!1),f.current.value=null,k(a.message)):"File exists with the same name"===a.message&&Z(!0)}}})};return(0,l.useEffect)((function(){e(r.F_.set_dashboard_navbar_active("new_file"))}),[e]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"file",style:{display:"none"},ref:f,onChange:function(e){(0,n.Z)(e.target.files,1)[0]&&(b(!0),F())}}),(0,h.jsxs)("div",{className:"modal ".concat(C&&"modal-open"),children:[(0,h.jsxs)("div",{className:"modal-header",children:["File exists ",(0,h.jsx)("span",{children:"\xd7"})]}),(0,h.jsx)("div",{className:"modal-body",children:"You've already uploaded a file with the same name. Do you want to replace?"}),(0,h.jsxs)("div",{className:"modal-footer",children:[(0,h.jsx)("button",{className:"modal-btn",onClick:function(){Z(!1),F(1)},children:"Yes"}),(0,h.jsx)("button",{className:"modal-btn",onClick:function(){Z(!1),b(!1),f.current.value=null},children:"No"})]})]}),(0,h.jsxs)("div",{className:"modal ".concat(_&&"modal-open"),children:[(0,h.jsxs)("div",{className:"modal-header",children:["Upload Message",(0,h.jsx)("span",{onClick:function(){return k("")},children:"\xd7"})]}),(0,h.jsx)("div",{className:"modal-body",children:_})]}),(0,h.jsxs)("main",{className:"dashboard-container",children:[(0,h.jsx)(t.Z,{}),(0,h.jsxs)("div",{className:"dashboard-content",children:[(0,h.jsx)(u.Z,{}),(0,h.jsxs)("section",{className:"dashboard-main",children:[(0,h.jsxs)("div",{className:"dashboard-breadcrumb",children:[(0,h.jsxs)("div",{className:"dashboard-breadcrumb-left",children:[(0,h.jsx)("h3",{className:"dashboard-breadcrumb-title",children:"Add New File"}),(0,h.jsx)("p",{className:"dashboard-breadcrumb-text",children:"Upload a file to perform operation on"})]}),(0,h.jsx)("div",{className:"dashboard-breadcrumb-right"})]}),(0,h.jsx)("div",{children:(0,h.jsxs)("p",{className:"upload-info-div",children:[(0,h.jsx)("strong",{children:"Note:"})," Uploaded csv files would be converted to excel file"]})}),(0,h.jsxs)("div",{className:"upload-file-box",onClick:function(){f.current.click()},ref:p,children:[(0,h.jsx)("div",{className:"upload-icon-box",children:(0,h.jsx)("ion-icon",{name:"cloud-upload-outline",class:"upload-icon"})}),(0,h.jsx)("div",{className:"upload-info1",children:"Drag and Drop your file here"}),(0,h.jsx)("div",{className:"upload-info1",children:"Or"}),(0,h.jsx)("div",{className:"upload-info2",children:"Click to browse your files"}),(0,h.jsxs)("div",{className:"upload-info",children:[(0,h.jsx)("ion-icon",{name:"document-text-outline",class:"upload-file-icon"}),(0,h.jsx)("ion-icon",{name:"documents-outline",class:"upload-file-icon"}),(0,h.jsx)("p",{children:"You can upload CSV or Excel Files"})]})]}),v&&(0,h.jsxs)("div",{className:"upload-progress",children:[(0,h.jsx)("span",{className:"fas fa-spinner fa-spin"})," ","Uploading..."]})]}),(0,h.jsx)(m.Z,{})]})]})]})}}}]);
//# sourceMappingURL=749.1f792810.chunk.js.map
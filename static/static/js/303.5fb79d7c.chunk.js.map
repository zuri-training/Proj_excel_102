{"version":3,"file":"static/js/303.5fb79d7c.chunk.js","mappings":"oMAmGA,UA3FoB,WAChB,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,SAASH,YAA1B,IAC3BI,GAAeH,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMG,KAAKD,YAAtB,IAEjC,GAA+BE,EAAAA,EAAAA,WAAS,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAmCF,EAAAA,EAAAA,UAAS,IAA5C,eAAOG,EAAP,KAAkBC,EAAlB,KAwBA,OAtBAC,EAAAA,EAAAA,YAAU,WACNC,IAAAA,KAAO,CACHC,KAAM,MACNC,IAAI,GAAD,OAAKd,EAAL,kBAA2BJ,GAC9BmB,QAAS,CACLC,cAAc,UAAD,OAAYZ,IAE7Ba,QAAS,SAAUC,GACfR,EAAcQ,EAAKC,KAAKC,cACxBZ,GAAY,EACf,EACDa,WAAY,CACR,IAAK,WACDb,GAAY,EACf,EACD,IAAK,WACDA,GAAY,EACf,IAGZ,GAAE,CAACJ,EAAcJ,EAAcF,EAAUF,IAEtCW,GAEI,iBAAKe,UAAU,YAAf,WACI,iBAAMA,UAAU,2BADpB,eAMHb,GAKD,+BACI,gBAAKc,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAASC,SAAU,UAAxD,UACI,mBAAOJ,UAAU,qBAAjB,WACI,4BACI,wBACKb,EAAU,GAAGkB,KAAI,SAACC,EAAMC,GACrB,OACI,eAEIN,MAAO,CACHO,gBAAgB,IAAD,OAAMF,EAAKG,aAHlC,SAMKH,EAAKI,OALDH,EAQhB,SAGT,2BACKpB,EAAUwB,MAAM,GAAGN,KAAI,SAACO,EAAKL,GAC1B,OACI,wBACKK,EAAIP,KAAI,SAACC,EAAMO,GACZ,OACI,eAEIZ,MAAO,CACHO,gBAAgB,IAAD,OAAMF,EAAKG,aAHlC,SAMKH,EAAKI,OALDG,EAQhB,KAZIN,EAehB,cAzCV,gBAAKP,UAAU,YAAf,kBA+Cd,C","sources":["pages/PreviewFile.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport $ from \"jquery\";\r\n\r\nconst PreviewFile = () => {\r\n    const { file_id } = useParams();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const api_base_url = useSelector((state) => state.app_data.api_base_url);\r\n    const access_token = useSelector((state) => state.user.access_token);\r\n\r\n    const [loading, set_loading] = useState(true);\r\n    const [file_info, set_file_info] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: `${api_base_url}/files/${file_id}`,\r\n            headers: {\r\n                Authorization: `Bearer ${access_token}`,\r\n            },\r\n            success: function (data) {\r\n                set_file_info(data.file.file_content);\r\n                set_loading(false);\r\n            },\r\n            statusCode: {\r\n                401: function () {\r\n                    set_loading(false);\r\n                },\r\n                404: function () {\r\n                    set_loading(false);\r\n                },\r\n            },\r\n        });\r\n    }, [access_token, api_base_url, dispatch, file_id]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"preloader\">\r\n                <span className=\"fas fa-spinner fa-spin\"></span> Fetching\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!file_info) {\r\n        return <div className=\"preloader\">Error</div>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{ width: \"100%\", height: \"100vh\", overflow: \"hidden\" }}>\r\n                <table className=\"preview-file-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            {file_info[0].map((cell, i) => {\r\n                                return (\r\n                                    <th\r\n                                        key={i}\r\n                                        style={{\r\n                                            backgroundColor: `#${cell.background}`,\r\n                                        }}\r\n                                    >\r\n                                        {cell.value}\r\n                                    </th>\r\n                                );\r\n                            })}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {file_info.slice(1).map((row, i) => {\r\n                            return (\r\n                                <tr key={i}>\r\n                                    {row.map((cell, j) => {\r\n                                        return (\r\n                                            <td\r\n                                                key={j}\r\n                                                style={{\r\n                                                    backgroundColor: `#${cell.background}`,\r\n                                                }}\r\n                                            >\r\n                                                {cell.value}\r\n                                            </td>\r\n                                        );\r\n                                    })}\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PreviewFile;\r\n"],"names":["file_id","useParams","dispatch","useDispatch","api_base_url","useSelector","state","app_data","access_token","user","useState","loading","set_loading","file_info","set_file_info","useEffect","$","type","url","headers","Authorization","success","data","file","file_content","statusCode","className","style","width","height","overflow","map","cell","i","backgroundColor","background","value","slice","row","j"],"sourceRoot":""}
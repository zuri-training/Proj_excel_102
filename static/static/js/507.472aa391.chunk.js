"use strict";(self.webpackChunkfrontend_react=self.webpackChunkfrontend_react||[]).push([[507],{9507:function(e,a,n){n.r(a);var l=n(8152),i=n(9434),s=n(6871),c=n(2791),t=n(8890),r=n.n(t),d=n(7651),o=n(3700),h=n(393),f=n(5779),u=n(184);a.default=function(){var e=(0,s.UO)().operation_id,a=(0,i.I0)(),n=(0,i.v9)((function(e){return e.app_data.api_base_url})),t=(0,i.v9)((function(e){return e.user.access_token})),m=(0,i.v9)((function(e){return e.app_data.base_url})),x=(0,i.v9)((function(e){return e.user.user_info.id})),j=(0,c.useState)(!0),b=(0,l.Z)(j,2),_=b[0],g=b[1],N=(0,c.useState)(""),p=(0,l.Z)(N,2),v=p[0],k=p[1],w=(0,c.useRef)(),y=(0,c.useState)(!1),C=(0,l.Z)(y,2),R=C[0],Z=C[1],S=(0,c.useState)(null),A=(0,l.Z)(S,2),D=A[0],E=A[1],T=(0,c.useState)(""),F=(0,l.Z)(T,2),H=F[0],z=F[1],B=(0,c.useState)(""),J=(0,l.Z)(B,2),L=J[0],M=J[1],O=function(e,a){E(e),z(a),Z(!0)};return(0,c.useEffect)((function(){r().ajax({type:"GET",url:"".concat(n,"/operations/diff_checker/").concat(e),headers:{Authorization:"Bearer ".concat(t)},success:function(e){k(e.data),g(!1)},statusCode:{401:function(){a(d.JV.logout())},404:function(){g(!1)}}})}),[t,n,a,e]),_?(0,u.jsxs)("div",{className:"preloader",children:[(0,u.jsx)("span",{className:"fas fa-spinner fa-spin"})," Fetching file contents"]}):v?(0,u.jsxs)(u.Fragment,{children:[R&&(0,u.jsxs)("div",{className:"modal modal-open",children:[(0,u.jsxs)("div",{className:"modal-header",children:["Rename File"," ",(0,u.jsx)("span",{onClick:function(){Z(!1),E(null),z("")},children:"\xd7"})]}),(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w.current.innerHTML='<span class="fas fa-spinner fa-spin"></span> Renaming file',r().ajax({type:"PATCH",url:"".concat(n,"/files/").concat(D,"?new_filename=").concat(H),headers:{Authorization:"Bearer ".concat(t)},success:function(){window.location.reload()},statusCode:{406:function(e){var a=e.responseJSON;M(a.message),w.current.innerHTML="Rename"}}}),e.stopPropagation()},children:[(0,u.jsxs)("div",{className:"modal-body",style:{textAlign:"left"},children:[(0,u.jsx)("label",{className:"modal-label",children:"New name"}),(0,u.jsx)("input",{type:"text",className:"modal-input",placeholder:"Enter new file name",value:H,onChange:function(e){return z(e.target.value)}})]}),(0,u.jsxs)("div",{className:"modal-footer",style:{textAlign:"right"},children:[L,"\xa0\xa0\xa0\xa0",(0,u.jsx)("button",{className:"modal-btn",ref:w,children:"Rename"})]})]})]}),(0,u.jsxs)("main",{className:"dashboard-container",children:[(0,u.jsx)(o.Z,{}),(0,u.jsxs)("div",{className:"dashboard-content",children:[(0,u.jsx)(h.Z,{}),(0,u.jsxs)("section",{className:"dashboard-main",children:[(0,u.jsxs)("div",{className:"dashboard-breadcrumb",children:[(0,u.jsxs)("div",{className:"dashboard-breadcrumb-left",children:[(0,u.jsx)("h3",{className:"dashboard-breadcrumb-title",children:"Dif Checker"}),(0,u.jsx)("p",{className:"dashboard-breadcrumb-text",children:"A diff checker operation performed by you"})]}),(0,u.jsx)("div",{className:"dashboard-breadcrumb-right"})]}),(0,u.jsxs)("div",{className:"files-preview mb-3",children:[(0,u.jsxs)("div",{className:"file",children:[(0,u.jsxs)("div",{className:"file-header",children:[(0,u.jsx)("h3",{className:"file-name",children:v.file1_details.file_name}),(0,u.jsxs)("div",{className:"file-action-btns",children:[(0,u.jsx)("button",{className:"change-file-btn",onClick:function(){return O(v.file1_details.id,v.file1_details.file_name)},children:"Rename"}),(0,u.jsx)("a",{href:"".concat(m,"dc/").concat(x,"/").concat(v.file1_details.file_name),target:"_new",className:"change-file-btn",children:"Download"})]})]}),(0,u.jsx)("div",{className:"file-preview-box",children:(0,u.jsxs)("table",{className:"file-table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:v.file1_details.file_content[0].map((function(e,a){return(0,u.jsx)("th",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))})}),(0,u.jsx)("tbody",{children:v.file1_details.file_content.slice(1).map((function(e,a){return(0,u.jsx)("tr",{children:e.map((function(e,a){return(0,u.jsx)("td",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))},a)}))})]})})]}),(0,u.jsxs)("div",{className:"file",children:[(0,u.jsxs)("div",{className:"file-header",children:[(0,u.jsx)("h3",{className:"file-name",children:v.file2_details.file_name}),(0,u.jsxs)("div",{className:"file-action-btns",children:[(0,u.jsx)("button",{className:"change-file-btn",onClick:function(){return O(v.file2_details.id,v.file2_details.file_name)},children:"Rename"}),(0,u.jsx)("a",{href:"".concat(m,"dc/").concat(x,"/").concat(v.file2_details.file_name),target:"_new",className:"change-file-btn",children:"Download"})]})]}),(0,u.jsx)("div",{className:"file-preview-box",children:(0,u.jsxs)("table",{className:"file-table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:v.file2_details.file_content[0].map((function(e,a){return(0,u.jsx)("th",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))})}),(0,u.jsx)("tbody",{children:v.file2_details.file_content.slice(1).map((function(e,a){return(0,u.jsx)("tr",{children:e.map((function(e,a){return(0,u.jsx)("td",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))},a)}))})]})})]})]}),(0,u.jsxs)("div",{className:"files-preview",children:[(0,u.jsxs)("div",{className:"file",children:[(0,u.jsxs)("div",{className:"file-header",children:[(0,u.jsx)("h3",{className:"file-name",children:v.highlighted_file1_details.file_name}),(0,u.jsxs)("div",{className:"file-action-btns",children:[(0,u.jsx)("button",{className:"change-file-btn",onClick:function(){return O(v.highlighted_file1_details.id,v.highlighted_file1_details.file_name)},children:"Rename"}),(0,u.jsx)("a",{href:"".concat(m,"dc/").concat(x,"/").concat(v.highlighted_file1_details.file_name),target:"_new",className:"change-file-btn",children:"Download"})]})]}),(0,u.jsx)("div",{className:"file-preview-box",children:(0,u.jsxs)("table",{className:"file-table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:v.highlighted_file1_details.file_content[0].map((function(e,a){return(0,u.jsx)("th",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))})}),(0,u.jsx)("tbody",{children:v.highlighted_file1_details.file_content.slice(1).map((function(e,a){return(0,u.jsx)("tr",{children:e.map((function(e,a){return(0,u.jsx)("td",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))},a)}))})]})})]}),(0,u.jsxs)("div",{className:"file",children:[(0,u.jsxs)("div",{className:"file-header",children:[(0,u.jsx)("h3",{className:"file-name",children:v.highlighted_file2_details.file_name}),(0,u.jsxs)("div",{className:"file-action-btns",children:[(0,u.jsx)("button",{className:"change-file-btn",onClick:function(){return O(v.highlighted_file2_details.id,v.highlighted_file2_details.file_name)},children:"Rename"}),(0,u.jsx)("a",{href:"".concat(m,"dc/").concat(x,"/").concat(v.highlighted_file2_details.file_name),target:"_new",className:"change-file-btn",children:"Download"})]})]}),(0,u.jsx)("div",{className:"file-preview-box",children:(0,u.jsxs)("table",{className:"file-table",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:v.highlighted_file2_details.file_content[0].map((function(e,a){return(0,u.jsx)("th",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))})}),(0,u.jsx)("tbody",{children:v.highlighted_file2_details.file_content.slice(1).map((function(e,a){return(0,u.jsx)("tr",{children:e.map((function(e,a){return(0,u.jsx)("td",{style:{backgroundColor:"#".concat(e.background)},children:e.value},a)}))},a)}))})]})})]})]})]}),(0,u.jsx)(f.Z,{})]})]})]}):(0,u.jsx)("div",{className:"preloader",children:"Error fetching file"})}}}]);
//# sourceMappingURL=507.472aa391.chunk.js.map